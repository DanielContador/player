function CreateTableOfContents(){this.strIdRef="",this.strId="",this.parseXMLToObjectInstance={},this.objXmlData={},this.strCurrentActivityId="",this.aryCompletionStatus={},this.schemaversion="",this.data={},this.blnShowIndent=config.tocDisplayType,this.totalNumOfSCOs=0,this.menuInstance=new Menu,this.activityId=""}function traverse(e,t){var r;for(var i in e)if(e.hasOwnProperty(i)){if(i==t)return e[i];if("object"==typeof e[i]&&(r=traverse(e[i],t),null!==r))return r}return null}function DebugWriter(e,t){this.aryDebugText=new Array,this.aryDebugType=new Array,this.objWin=new Object,this.strDebugDivName="_debug_window",this.strDebugToolbarDivName="_debug_window_toolbar";new Object;this.status=e,this.presentation=t,this.createDebugWindow(this.presentation)}function StatementLogger(e,t){this.courseId=e,this.studentId=t,this.uuid=generateUUID(),this.statements=[],this.listeners=[]}function StatementLogEntry(e){this.when=new Date,this.statement="",this.displayWhen=null,this.timeTaken=0,this.statementType=e,this.subStatements=[],this.debugLevel="INFO"}function Utils(){this.currentCourseDetails={}}function generateUUID(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?r:7&r|8).toString(16)})}function isEmptyObject(e){var t;for(t in e)return!1;return!0}function matchRegEx(e,t){t+="";var r=new RegExp(e);return!!t.match(r)}function endsWith(e,t){return-1!==e.indexOf(t,e.length-t.length)}function getCourseId(){return courseId}function getCourseDirectory(){return config.courseBaseHtmlPath+courseDirectory}function getStudentId(){return config.getStudentIdOverrideFn?config.getStudentIdOverrideFn():studentId}function getStudentName(){return config.getStudentNameOverrideFn?config.getStudentNameOverrideFn():studentName}function prepareFrames(){var e=document.getElementById("frame-here");e.innerHTML='<iframe name="jca_course_player" id="jca_course_player" frameborder="0" width="100%" height="100%" src="blank.htm"></iframe>',setupInterface(),setupInterfaceNav()}function returnFromAjaxTocData(e){e&&createTableOfContentsInstance.setTOCCache(e)}function setupInterface(){createTableOfContentsInstance=new CreateTableOfContents,createTableOfContentsInstance.initTraverse(activeCourse,setupInterface2)}function setupInterface2(e){var t,r,i;ssla.storage.getStorageLayer().load(null,config.tocDataObjectName),config.showCourseCompletionStatus||(document.getElementById("course_completion_status_div").style.display="none"),config.showCourseSuccessStatus||(document.getElementById("course_success_status_div").style.display="none"),config.showCourseGrade||(document.getElementById("course_grade_div").style.display="none"),t=document.getElementById("credit-"+String(objVars.credit)),t&&(t.checked=!0),r=document.getElementById("mode-"+String(objVars.mode)),r&&(r.checked=!0),loadTOC(e),1==config.autoLaunchFirstSCO&&(i=createTableOfContentsInstance.menuInstance.getFirstLeafActivity(),gotoSco(i.resourceId,i.itemId))}function loadTOC(e){document.getElementById("toc").innerHTML=e}function getTocInstance(){return createTableOfContentsInstance}function toggleTOC(){var e=document.getElementById("toggle_menu");switch(currMenuState){case"hide":document.body.className="hide-toc",currMenuState="show",e&&(e.innerHTML="Show Menu");break;case"show":document.body.className="",currMenuState="hide",e&&(e.innerHTML="Hide Menu")}}function navigate(n){var strCurrActivityId=getTocInstance().getCurrentActivityId(),strIndex=getTocInstance().menuInstance.getMenuItemIndex("itemId",strCurrActivityId),strOp,intNewIndex,objMenu,i;switch(n){case"previous":strOp="-";break;case"next":strOp="+";break;case"exit":endCurrentActivity(),9>=1*ie?location.assign(from+"cerrarCurso.htm"):window.location.href=from+"cerrarCurso.htm"}for(i=1;10>i;i++){intNewIndex=eval("parseInt("+strIndex+")"+strOp+i),objMenu=createTableOfContentsInstance.menuInstance.getMenuItemByIndex(intNewIndex);try{if(""!=objMenu.resourceId)break}catch(e){}}try{gotoSco(objMenu.resourceId,objMenu.itemId)}catch(e){var r=confirm("Would you like to close this course and return to the LMS main menu?");r&&top.window.close()}}function endCurrentActivity(){API?(API.LMSCommit(""),API.LMSFinish("")):API_1484_11&&(API_1484_11.Commit(""),API_1484_11.Terminate(""))}function gotoSco(e,t){endCurrentActivity(),jca_course_player.document.location.replace("blank.htm");var r=setInterval(function(){0==globalActiveSaveCounter&&(createTableOfContentsInstance.lookupHrefByRef(e,t),clearInterval(r))},100)}function setupInterfaceNav(){config.showSCOtoSCONavigation||(document.getElementById("sco_navigation").style.visibility="hidden"),config.hideTOC&&toggleTOC(),config.showStatementLogPopupLink&&(document.getElementById("show_statement_log_holder").style.visibility="visible")}function showStatementLog(){utils.openPage("statementLog.htm","popup","statementLog")}function initScorm12Player(e){qsObject=e,debugWriter.showDebugWindow(),API=getScorm12Api(),doLoadPage(CMI_DB_12)}function initScorm2004Player(e){qsObject=e,debugWriter.showDebugWindow(),API_1484_11=getScorm2004Api(),doLoadPage(CMI_DB_2004)}function myTrim(e){return e.replace(/^\s+|\s+$/gm,"")}function parseStudentName(e){var t="",r="",n=[];if(-1!=e.indexOf(","))return n=e.split(","),e=myTrim(n[0])+", "+myTrim(n[1]);if(-1!=e.indexOf(" ")){for(n=e.split(" "),i=0;i<n.length;i++)0==i?t=myTrim(n[i]):i>0&&(r+=myTrim(n[i]));return e=r+", "+t}return e}function doLoadPage(e){debugWriter.writeToDebugWindow("doLoadPage :: Loading page data...."),stuName=getStudentName(),stuNumber=getStudentId(),data_from_lms=qsObject.data_from_lms,mastery_score=qsObject.mastery_score,max_time_allowed=qsObject.max_time_allowed,time_limit_action=qsObject.time_limit_action,cmi_core_credit=qsObject.cmi_core_credit,cmi_core_lesson_mode=qsObject.cmi_core_lesson_mode,path=utils.jcaDecodePath(qsObject.path),CMI_DBInstance=new e(stuName,stuNumber,data_from_lms,mastery_score,max_time_allowed,time_limit_action,cmi_core_credit,cmi_core_lesson_mode),debugWriter.writeToDebugWindow("doLoadPage :: Loading Complete !"),loadCourse(stuNumber,qsObject.act_id,qsObject.sco_id,path)}function processRollup(){}function loadCourse(e,t,r,i){debugWriter.writeToDebugWindow("in loadcourse()"),strCookieName=e+"_"+r,debugWriter.writeToDebugWindow("in loadcourse() strCookieName = "+strCookieName),oScormData.coursePath=i,debugWriter.writeToDebugWindow("in loadcourse() oScormData.coursePath = "+oScormData.coursePath),oScormData.strStudentId=e,debugWriter.writeToDebugWindow("in loadcourse() oScormData.strStudentId = "+oScormData.strStudentId),oScormData.strSCOId=r,debugWriter.writeToDebugWindow("in loadcourse() oScormData.strSCOId = "+oScormData.strSCOId),oScormData.strActivityId=t,v=ssla.storage.getStorageLayer().load(null,strCookieName),debugWriter.writeToDebugWindow("in loadCourse GetCookie() returned value = "+v)}function tryPopup(e){return utils.openPage(e,"popup","sco_win",popupSettings)}function popupManually(){var e=tryPopup(oScormData.coursePath);return updateUserText(),e}function updateCenterContent(e){var t=setInterval(function(){try{jca_course_player.document.getElementById("content").innerHTML=e,clearInterval(t)}catch(r){}},10)}function updateUserText(){updateCenterContent("Your course has been opened in a popup.  When you have completed your course, please press exit or close this window.")}function returnFromAjaxScorm12Course(e){var t,r;if(debugWriter.writeToDebugWindow("in returnFromAjax() v = "+e),oScormData.data=e,debugWriter.writeToDebugWindow("in returnFromAjax() oScormData.coursePath = "+oScormData.coursePath),2==config.scoLaunchType){if(0==config.newWindowSettings.length)r=tryPopup(oScormData.coursePath);else{for(popupSettings="",t=0;t<config.newWindowSettings.length;t++)popupSettings+=config.newWindowSettings[t]+",";r=tryPopup(oScormData.coursePath)}r?updateUserText():updateCenterContent('Your course window did not pop open correctly.<br>  <a onclick="parent.popupManually()" href="#">Click here to open the course.</a>')}else jca_course_player.document.location.replace(oScormData.coursePath)}function wrapUp(){endCurrentActivity("")}function CMI_DB_2004(e,t,r,i,n,s,a,o){function c(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}this.student_name=e,this.student_number=t,this.data_from_lms=r,this.mastery_score=i,this.max_time_allowed=n,this.time_limit_action=s,this.cmi_core_credit=a,this.cmi_core_lesson_mode=o,this.local_data={},this._setLocalData=function(e,t){try{return this.local_data[e]=t,debugWriter.writeToDebugWindow("_setLocalData "+e+"="+t,"blue"),"true"}catch(r){return debugWriter.writeToDebugWindow("ERROR: _setLocalData "+r.description,"red"),"false"}},this._getLocalData=function(e){try{value=this.local_data[e]}catch(t){debugWriter.writeToDebugWindow("ERROR: _getLocalData "+t.description,"red"),value=""}return value},this.addTimes=function(e,t){var r=this.parseTime(e),i=this.parseTime(t),n=new Date,s=new Date(n.getYear(),n.getMonth(),n.getDay(),r[0],r[1],r[2],r[3]),a=new Date(n.getYear(),n.getMonth(),n.getDay(),i[0],i[1],i[2],i[3]),o=a.getHours(),c=a.getMinutes(),l=a.getSeconds(),u=o+s.getHours(),d=c+s.getMinutes(),m=l+s.getSeconds();m>=60&&(m=-(60-m),d++),d>=60&&(d=-(60-d),u++),u>=24&&(u=-(24-u)),9>=m&&(m="0"+m),9>=d&&(d="0"+d),9>=u&&(u="0"+u);var p="PT"+u+"H"+d+"M"+m+"S";return p},this.getMilliseconds=function(e){var t=e+"",r=0;return-1!=t.indexOf(".")&&(r=parseInt(t.split(".")[1])),r},this.parseTime=function(e){var t=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;return(match=t.exec(e))?(sign="-"===match[1]?-1:1,duration={y:c(match[2],sign),M:c(match[3],sign),d:c(match[4],sign),h:c(match[5],sign),m:c(match[6],sign),s:c(match[7],sign),w:c(match[8],sign)},[duration.h,duration.m,duration.s,0]):[0,0,0,0]}}function getScorm2004Api(){var e=ScormBase2004(new ScormBase),t=new e,r=function(e){return{Initialize:function(t){return e.initialize(t)},Terminate:function(t){return e.terminate(t)},Commit:function(t){return e.commit(t)},GetValue:function(t){return e.getValue(t)},SetValue:function(t,r){return e.setValue(t,r)},GetLastError:function(){return e.getLastError()},GetErrorString:function(t){return e.getErrorString(t)},GetDiagnostic:function(t){return e.getDiagnostic(t)}}}(t);return r}this.JSON||(this.JSON={}),function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var r,i,n,s,a,o=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(s=c.length,r=0;s>r;r+=1)a[r]=str(r,c)||"null";return n=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+o+"]":"["+a.join(",")+"]",gap=o,n}if(rep&&"object"==typeof rep)for(s=rep.length,r=0;s>r;r+=1)i=rep[r],"string"==typeof i&&(n=str(i,c),n&&a.push(quote(i)+(gap?": ":":")+n));else for(i in c)Object.hasOwnProperty.call(c,i)&&(n=str(i,c),n&&a.push(quote(i)+(gap?": ":":")+n));return n=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+o+"}":"{"+a.join(",")+"}",gap=o,n}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,r){var i;if(gap="",indent="","number"==typeof r)for(i=0;r>i;i+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var r,i,n=e[t];if(n&&"object"==typeof n)for(r in n)Object.hasOwnProperty.call(n,r)&&(i=walk(n,r),void 0!==i?n[r]=i:delete n[r]);return reviver.call(e,t,n)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),"undefined"==typeof ParseXMLToObject&&(ParseXMLToObject=function(){}),ParseXMLToObject.ParseXML=function(e,t,r){return this.http=new ParseXMLToObject.ParseXML.HTTP(e,t,r,!1),this},ParseXMLToObject.ParseXML.VERSION="0.22",ParseXMLToObject.ParseXML.MIME_TYPE_XML="text/xml",ParseXMLToObject.ParseXML.MAP_NODETYPE=["","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE"],ParseXMLToObject.ParseXML.prototype.async=function(e,t){this.callback_func=e,this.callback_arg=t},ParseXMLToObject.ParseXML.prototype.onerror=function(e,t){this.onerror_func=e},ParseXMLToObject.ParseXML.prototype.parse=function(){if(this.http){if(this.onerror_func&&this.http.onerror(this.onerror_func),this.callback_func){var e=this,t=function(){if(e.http){var t=e.parseResponse();e.callback_func(t,e.callback_arg)}};this.http.async(t)}if(this.http.load(),!this.callback_func){var r=this.parseResponse();return r}}},ParseXMLToObject.ParseXML.prototype.setOutputArrayAll=function(){this.setOutputArray(!0)},ParseXMLToObject.ParseXML.prototype.setOutputArrayAuto=function(){this.setOutputArray(null)},ParseXMLToObject.ParseXML.prototype.setOutputArrayNever=function(){this.setOutputArray(!1)},ParseXMLToObject.ParseXML.prototype.setOutputArrayElements=function(e){this.setOutputArray(e)},ParseXMLToObject.ParseXML.prototype.setOutputArray=function(e){if("string"==typeof e&&(e=[e]),e&&"object"==typeof e)if(e.length<0)e=!1;else{for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;e=t,e["*"]&&(e=!0)}this.usearray=e},ParseXMLToObject.ParseXML.prototype.parseResponse=function(){var e=this.http.documentElement(),t=this.parseDocument(e);return t},ParseXMLToObject.ParseXML.prototype.parseDocument=function(e){if(e){var t=this.parseElement(e);1==this.usearray?t=[t]:0==this.usearray||null==this.usearray||this.usearray[e.nodeName]&&(t=[t]);var r={};return r[e.nodeName]=t,r}},ParseXMLToObject.ParseXML.prototype.parseElement=function(e){if(7!=e.nodeType){if(3==e.nodeType||4==e.nodeType){var t=e.nodeValue.match(/[^\x00-\x20]/);if(null==t)return;return e.nodeValue}var r,i={};if(e.attributes&&e.attributes.length){r={};for(var n=0;n<e.attributes.length;n++){var s=e.attributes[n].nodeName;if("string"==typeof s){var a=e.attributes[n].nodeValue;a&&("undefined"==typeof i[s]&&(i[s]=0),i[s]++,this.addNode(r,s,i[s],a))}}}if(e.childNodes&&e.childNodes.length){var o=!0;r&&(o=!1);for(var n=0;n<e.childNodes.length&&o;n++){var c=e.childNodes[n].nodeType;3!=c&&4!=c&&(o=!1)}if(o){r||(r="");for(var n=0;n<e.childNodes.length;n++)r+=e.childNodes[n].nodeValue}else{r||(r={});for(var n=0;n<e.childNodes.length;n++){var s=e.childNodes[n].nodeName;if("string"==typeof s){var a=this.parseElement(e.childNodes[n]);a&&("undefined"==typeof i[s]&&(i[s]=0),i[s]++,this.addNode(r,s,i[s],a))}}}}return r}},ParseXMLToObject.ParseXML.prototype.addNode=function(e,t,r,i){1==this.usearray?(1==r&&(e[t]=[]),e[t][e[t].length]=i):0==this.usearray?1==r&&(e[t]=i):null==this.usearray?1==r?e[t]=i:2==r?e[t]=[e[t],i]:e[t][e[t].length]=i:this.usearray[t]?(1==r&&(e[t]=[]),e[t][e[t].length]=i):1==r&&(e[t]=i)},ParseXMLToObject.ParseXML.HTTP=function(e,t,r,i){return this.url=e,"string"==typeof t?this.query=t:this.query="",r?this.method=r:"string"==typeof t?this.method="POST":this.method="GET",this.textmode=i?!0:!1,this.req=null,this.xmldom_flag=!1,this.onerror_func=null,this.callback_func=null,this.already_done=null,this},ParseXMLToObject.ParseXML.HTTP.REQUEST_TYPE="application/x-www-form-urlencoded",ParseXMLToObject.ParseXML.HTTP.ACTIVEX_XMLDOM="Microsoft.XMLDOM",ParseXMLToObject.ParseXML.HTTP.ACTIVEX_XMLHTTP="Microsoft.XMLHTTP",ParseXMLToObject.ParseXML.HTTP.EPOCH_TIMESTAMP="Thu, 01 Jun 1970 00:00:00 GMT",ParseXMLToObject.ParseXML.HTTP.prototype.onerror=ParseXMLToObject.ParseXML.prototype.onerror,ParseXMLToObject.ParseXML.HTTP.prototype.async=function(e){this.async_func=e},ParseXMLToObject.ParseXML.HTTP.prototype.load=function(){if(window.ActiveXObject){var e=ParseXMLToObject.ParseXML.HTTP.ACTIVEX_XMLHTTP;"GET"!=this.method||this.textmode||(e=ParseXMLToObject.ParseXML.HTTP.ACTIVEX_XMLDOM),this.req=new ActiveXObject(e)}else window.XMLHttpRequest&&(this.req=new XMLHttpRequest);var t=this.async_func?!0:!1;if("undefined"!=typeof this.req.send&&this.req.open(this.method,this.url,t),"undefined"!=typeof this.req.setRequestHeader&&this.req.setRequestHeader("Content-Type",ParseXMLToObject.ParseXML.HTTP.REQUEST_TYPE),"undefined"==typeof this.req.overrideMimeType||this.textmode||this.req.overrideMimeType(ParseXMLToObject.ParseXML.MIME_TYPE_XML),t){var r=this;r.already_done=!1;var i=function(){if(4==r.req.readyState){var e=r.checkResponse();e&&(r.already_done||(r.already_done=!0,r.async_func()))}};this.req.onreadystatechange=i}if("undefined"!=typeof this.req.send?this.req.send(this.query):"undefined"!=typeof this.req.load&&(this.req.async=t,this.req.load(this.url)),!t){this.checkResponse()}},ParseXMLToObject.ParseXML.HTTP.prototype.checkResponse=function(){return this.req.parseError&&0!=this.req.parseError.errorCode?(this.onerror_func&&this.onerror_func(this.req.parseError.reason),!1):this.req.status-0>0&&200!=this.req.status&&206!=this.req.status&&304!=this.req.status?(this.onerror_func&&this.onerror_func(this.req.status),!1):!0},ParseXMLToObject.ParseXML.HTTP.prototype.documentElement=function(){return this.req?this.req.responseXML?this.req.responseXML.documentElement:this.req.documentElement:void 0},ParseXMLToObject.ParseXML.HTTP.prototype.responseText=function(){if(this.req){if(navigator.appVersion.match("KHTML")){var e=escape(this.req.responseText);if(!e.match("%u")&&e.match("%"))return decodeURIComponent(e)}return this.req.responseText}},!function(e,t,r){"undefined"!=typeof module&&module.exports?module.exports=r():"function"==typeof define&&define.amd?define(r):t[e]=r()}("reqwest",this,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,r){return function(){return e._aborted?r(e.request):e._timedOut?r(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):r(e.request)))}}function setHeaders(e,t){var r,i=t.headers||{};i.Accept=i.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var n="function"==typeof FormData&&t.data instanceof FormData;!t.crossOrigin&&!i[requestedWith]&&(i[requestedWith]=defaultHeaders.requestedWith),!i[contentType]&&!n&&(i[contentType]=t.contentType||defaultHeaders.contentType);for(r in i)i.hasOwnProperty(r)&&"setRequestHeader"in e&&e.setRequestHeader(r,i[r])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,r,i){var n=uniqid++,s=e.jsonpCallback||"callback",a=e.jsonpCallbackName||reqwest.getcallbackPrefix(n),o=new RegExp("((^|\\?|&)"+s+")=([^&]+)"),c=i.match(o),l=doc.createElement("script"),u=0,d=-1!==navigator.userAgent.indexOf("MSIE 10.0");return c?"?"===c[3]?i=i.replace(o,"$1="+a):a=c[3]:i=urlappend(i,s+"="+a),context[a]=generalCallback,l.type="text/javascript",l.src=i,l.async=!0,"undefined"!=typeof l.onreadystatechange&&!d&&(l.htmlFor=l.id="_reqwest_"+n),l.onload=l.onreadystatechange=function(){return l[readyState]&&"complete"!==l[readyState]&&"loaded"!==l[readyState]||u?!1:(l.onload=l.onreadystatechange=null,l.onclick&&l.onclick(),t(lastValue),lastValue=void 0,head.removeChild(l),u=1,void 0)},head.appendChild(l),{abort:function(){l.onload=l.onreadystatechange=null,r({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(l),u=1}}}function getRequest(e,t){var r,i=this.o,n=(i.method||"GET").toUpperCase(),s="string"==typeof i?i:i.url,a=i.processData!==!1&&i.data&&"string"!=typeof i.data?reqwest.toQueryString(i.data):i.data||null,o=!1;return("jsonp"==i.type||"GET"==n)&&a&&(s=urlappend(s,a),a=null),"jsonp"==i.type?handleJsonp(i,e,t,s):(r=i.xhr&&i.xhr(i)||xhr(i),r.open(n,s,i.async===!1?!1:!0),setHeaders(r,i),setCredentials(r,i),context[xDomainRequest]&&r instanceof context[xDomainRequest]?(r.onload=e,r.onerror=t,r.onprogress=function(){},o=!0):r.onreadystatechange=handleReadyState(this,e,t),i.before&&i.before(r),o?setTimeout(function(){r.send(a)},200):r.send(a),r)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,r){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=r,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,r);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var r,i,n,s,a=e.name,o=e.tagName.toLowerCase(),c=function(e){e&&!e.disabled&&t(a,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&a)switch(o){case"input":/reset|button|image|file/i.test(e.type)||(r=/checkbox/i.test(e.type),i=/radio/i.test(e.type),n=e.value,(!r&&!i||e.checked)&&t(a,normalize(r&&""===n?"on":n)));break;case"textarea":t(a,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())c(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(s=0;e.length&&s<e.length;s++)e.options[s].selected&&c(e.options[s])}}function eachFormElement(){var e,t,r=this,i=function(e,t){var i,n,s;for(i=0;i<t.length;i++)for(s=e[byTag](t[i]),n=0;n<s.length;n++)serial(s[n],r)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,r),i(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,r){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(r)):e[t]=r},arguments),e}function buildParams(e,t,r,i){var n,s,a,o=/\[\]$/;if(isArray(t))for(s=0;t&&s<t.length;s++)a=t[s],r||o.test(e)?i(e,a):buildParams(e+"["+("object"==typeof a?s:"")+"]",a,r,i);else if(t&&"[object Object]"===t.toString())for(n in t)buildParams(e+"["+n+"]",t[n],r,i);else i(e,t)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=require("xhr2")}catch(ex){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},"catch":function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,r){e.push({name:t,value:r})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,r=Array.prototype.slice.call(arguments,0);return e=r.pop(),e&&e.nodeType&&r.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,r)},reqwest.toQueryString=function(e,t){var r,i,n=t||!1,s=[],a=encodeURIComponent,o=function(e,t){t="function"==typeof t?t():null==t?"":t,s[s.length]=a(e)+"="+a(t)};if(isArray(e))for(i=0;e&&i<e.length;i++)o(e[i].name,e[i].value);else for(r in e)e.hasOwnProperty(r)&&buildParams(r,e[r],n,o);return s.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest}),function(e){function t(e,t,r,i,n){this._listener=t,this._isOnce=r,this.context=i,this._signal=e,this._priority=n||0}function r(e,t){if("function"!=typeof e)throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function i(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){i.prototype.dispatch.apply(e,arguments)}}t.prototype={active:!0,params:null,execute:function(e){var t;return this.active&&this._listener&&(e=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,e),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},i.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,r,i,n){var s=this._indexOfListener(e,i);if(-1!==s){if(e=this._bindings[s],e.isOnce()!==r)throw Error("You cannot add"+(r?"":"Once")+"() then add"+(r?"Once":"")+"() the same listener without removing the relationship first.")}else e=new t(this,e,r,i,n),this._addBinding(e);return this.memorize&&this._prevParams&&e.execute(this._prevParams),e},_addBinding:function(e){var t=this._bindings.length;do--t;while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var r,i=this._bindings.length;i--;)if(r=this._bindings[i],r._listener===e&&r.context===t)return i;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,i){return r(e,"add"),this._registerListener(e,!1,t,i)},addOnce:function(e,t,i){return r(e,"addOnce"),this._registerListener(e,!0,t,i)},remove:function(e,t){r(e,"remove");var i=this._indexOfListener(e,t);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(e){if(this.active){var t,r=Array.prototype.slice.call(arguments),i=this._bindings.length;if(this.memorize&&(this._prevParams=r),i){t=this._bindings.slice(),this._shouldPropagate=!0;do i--;while(t[i]&&this._shouldPropagate&&t[i].execute(r)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var n=i;n.Signal=i,"function"==typeof define&&define.amd?define(function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:e.signals=n}(this),function(e){function t(){var e=arguments[0],r=t.cache;return r[e]&&r.hasOwnProperty(e)||(r[e]=t.parse(e)),t.format.call(null,r[e],arguments)}function r(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function i(e,t){return Array(t+1).join(e)}var n={not_string:/[^sS]/,number:/[def]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,
placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosSuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};t.format=function(e,s){var a,o,c,l,u,d,m,p=1,h=e.length,f="",g=[],y=!0,_="";for(o=0;h>o;o++)if(f=r(e[o]),"string"===f)g[g.length]=e[o];else if("array"===f){if(l=e[o],l[2])for(a=s[p],c=0;c<l[2].length;c++){if(!a.hasOwnProperty(l[2][c]))throw new Error(t("[sprintf] property '%s' does not exist",l[2][c]));a=a[l[2][c]]}else a=l[1]?s[l[1]]:s[p++];if("function"==r(a)&&(a=a()),n.not_string.test(l[8])&&"number"!=r(a)&&isNaN(a))throw new TypeError(t("[sprintf] expecting number but found %s",r(a)));switch(n.number.test(l[8])&&(y=a>=0),l[8]){case"b":a=a.toString(2);break;case"c":a=String.fromCharCode(a);break;case"d":a=parseInt(a,10);break;case"e":a=l[7]?a.toExponential(l[7]):a.toExponential();break;case"f":a=l[7]?parseFloat(a).toFixed(l[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=String(a))&&l[7]?a.substring(0,l[7]):a;break;case"S":a="'"+((a=String(a))&&l[7]?a.substring(0,l[7]):a)+"'";break;case"u":a>>>=0;break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}(!y||n.number.test(l[8])&&l[3])&&(_=y?"+":"-",a=a.toString().replace(n.sign,"")),d=l[4]?"0"==l[4]?"0":l[4].charAt(1):" ",m=l[6]-(_+a).length,u=l[6]?i(d,m):"",g[g.length]=l[5]?_+a+u:0==d?_+u+a:u+_+a}return g.join("")},t.cache={},t.parse=function(e){for(var t=e,r=[],i=[],s=0;t;){if(null!==(r=n.text.exec(t)))i[i.length]=r[0];else if(null!==(r=n.modulo.exec(t)))i[i.length]="%";else{if(null===(r=n.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(r[2]){s|=1;var a=[],o=r[2],c=[];if(null===(c=n.key.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a[a.length]=c[1];""!==(o=o.substring(c[0].length));)if(null!==(c=n.key_access.exec(o)))a[a.length]=c[1];else{if(null===(c=n.index_access.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");a[a.length]=c[1]}r[2]=a}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i[i.length]=r}t=t.substring(r[0].length)}return i};var s=function(e,r,i){return i=(r||[]).slice(0),i.splice(0,0,e),t.apply(null,i)};"undefined"!=typeof exports?(exports.sprintf=t,exports.vsprintf=s):(e.sprintf=t,e.vsprintf=s,"function"==typeof define&&define.amd&&define(function(){return{sprintf:t,vsprintf:s}}))}("undefined"==typeof window?this:window);var ssla=function(e){return e||(e={}),e.events={lmsPreInitialize:new signals.Signal,lmsPostInitialize:new signals.Signal,lmsPreFinish:new signals.Signal,lmsPostFinish:new signals.Signal,lmsPreTerminate:new signals.Signal,lmsPostTerminate:new signals.Signal,lmsPreCommit:new signals.Signal,lmsPostCommit:new signals.Signal,lmsPreGetValue:new signals.Signal,lmsPostGetValue:new signals.Signal,lmsPreSetValue:new signals.Signal,lmsPostSetValue:new signals.Signal},e}(ssla),Config=function(e){if(this.aicc_file="",this.courseBaseHtmlPath="../",this.showSCOtoSCONavigation=!0,this.showSCORM2004TopNav=!1,this.previousActivityText="Previous Activity",this.nextActivityText="Next Activity",this.scoLaunchType=1,this.hideTOC=!1,this.autoLaunchFirstSCO=!0,this.newWindowSettings=Array("width=1024","height=768"),this.debuggerStatus="on",this.debuggerLaunchType="console",this.masteryScore="",this.showCourseCompletionStatus=!0,this.showCourseSuccessStatus=!0,this.showCourseGrade=!0,this.scormManifestFileName="imsmanifest.xml",this.storageMediaType="server",this.ajaxType="POST",this.setDataURL="/track/set",this.getDataURL="/track/get",this.tocDataObjectName="toc_data",this.saveDataOnSetValue=!1,this.saveDataOnCommit=!0,this.forceSynchronousAjaxOnEnd=!0,this.tocDisplayType="ullistview",this.tocStatusImages=new Object,this.tocStatusImages.completed="/SSLA/ssla/images/status/completed.gif",this.tocStatusImages.incomplete="/SSLA/ssla/images/status/incomplete.gif",this.tocStatusImages.unknown="/SSLA/ssla/images/status/unknown.gif",this.tocStatusImages.not_attempted="/SSLA/ssla/images/status/unknown.gif",this.tocStatusImages.passed="/SSLA/ssla/images/status/passed.gif",this.tocStatusImages.failed="/SSLA/ssla/images/status/failed.gif",this.activeItemHighlightColor="#83f84f",this.showCourseCertificate=!0,this.courseCertThresholdScore=0,this.completeContentOnExit=!1,this.setInitializeToLMS=!0,this.setFinishToLMS=!0,this.saveStatementLog=!1,this.statementLogGetUrl="/track/statement_log/get",this.statementLogSetUrl="/track/statement_log/set",this.showStatementLogPopupLink=!1,this.checkObjectiveId=!1,this.checkInteractionId=!1,this.convertStudentName=!1,this.getStudentIdOverrideFn=null,this.getStudentNameOverrideFn=null,e)for(var t in e)this[t]=e[t]};if(CreateTableOfContents.prototype.getSchemaVersion=function(e){var t=traverse(e,"schemaversion");return t?t:traverse(e,"adlcp:scormtype")?"1.2":traverse(e,"adlcp:scormType")?"2004 3rd Edition":"http://www.imsproject.org/xsd/imscp_rootv1p1p2"==e.manifest.xmlns?"1.2":"http://www.imsglobal.org/xsd/imscp_v1p1"==e.manifest.xmlns?"2004 3rd Edition":"1.2"},CreateTableOfContents.prototype.initTraverse=function(e,t){strCurrentLevel=1,""!=config.aicc_file?(manifestInstance=new manifest(getCourseDirectory()+"/"+config.scormManifestFileName),xmlDom=manifestInstance.create(),xml=utils.StringtoXML(xmlDom),this.objXmlData=(new ParseXMLToObject.ParseXML).parseDocument(xml.documentElement),this.initTraverseContinue(t)):(xml=new ParseXMLToObject.ParseXML(e),xml.async(this.initTraverseContinueWrapper,[this,t]),this.objXmlData=xml.parse())},CreateTableOfContents.prototype.initTraverseContinueWrapper=function(e,t){t[0].objXmlData=e,t[0].initTraverseContinue(t[1])},CreateTableOfContents.prototype.initTraverseContinue=function(e){if("undefined"==typeof this.objXmlData)return void alert("The imsmanifest.xml file was not found at "+file+".\nThe imsmanifest.xml file must be at the root of the SCORM package");this.schemaversion=this.getSchemaVersion(this.objXmlData),n=this.traverse(this.objXmlData);var t="";if("ullistview"==this.blnShowIndent)for(t="</li>",outdent="</ul></li>",k=0;k<strCurrentLevel;k++)t+=outdent;e(n+t)},strLastLevel=0,CreateTableOfContents.prototype.getCurrentActivityId=function(){return this.activityId},CreateTableOfContents.prototype.applyStyle=function(e,t,r){if(before="",after="",strCurrentLevel=t.length+1,1==strCurrentLevel)strCurrentLevel>strLastLevel&&(before+="<ul id='menu_level_"+strLastLevel+"'><div class='headMenuCurso'><li style='background-image: url()'><div class='titulo_curso'>"),strCurrentLevel<strLastLevel&&(before=""),strCurrentLevel==strLastLevel&&(before="</ul>");else if(strCurrentLevel>strLastLevel&&(void 0==r?before+="<ul id='menu_level_"+strLastLevel+"'><li id='"+r+"' style='background-image: url()'><div class='titModuloCurso'>":before+="<ul id='menu_level_"+strLastLevel+"'><li id='"+r+"'>"),strCurrentLevel==strLastLevel&&(void 0==r?(before="</li><li id='"+r+"' style='background-image: url()'><div class='titModuloCurso'>",after="</div>"):before="</li><li id='"+r+"'>"),strCurrentLevel<strLastLevel){for(outdent="</ul></li>",outdentInterval=strLastLevel-strCurrentLevel,k=0;k<outdentInterval;k++)before+=outdent;void 0==r?(before+="<div class='listadoMenuCurso'><li id='"+r+"' style='background-image: url()'><div class='titModuloCurso'>",after="</div>"):before+="<li id='"+r+"'>"}return 1==strCurrentLevel?ret=before+e+"</div>":void 0==r?ret=before+e+"</div>":ret=before+e+after,strLastLevel=strCurrentLevel,ret},CreateTableOfContents.prototype.outputPlain=function(e,t){return e=t.length+t+e+"<br>"},numOfOrganizations=0,aryLookingForItems=new Array,strLastItemName="",aryAttributeCollection=new Array,strCurrentItemId="",intIndexCount=0,intParentIndexCount=-1,CreateTableOfContents.prototype.traverse=function(e,t,r,i){if(attributes="","undefined"==typeof t&&(t="",r=""),"undefined"==typeof r&&(r=""),"object"==typeof e){var n=null,s="";if("organization"==t){if(numOfOrganizations++,numOfOrganizations>1)return alert("This parser does not support multiple organizations."),s;aryLookingForItems=new Array("title"),strLastItemName="organization",r=""}if("item"==t&&(aryLookingForItems=new Array("title","identifier","identifierref","isvisible","adlcp:datafromlms","adlcp:masteryscore","adlcp:timelimitaction","adlcp:maxtimeallowed","adlcp:prerequisite","item"),strLastItemName="item"),"resource"==t)return s;for(var a in e){try{n=e[a]}catch(o){n="<Unable to Evaluate>"}if("object"==typeof n)s+=this.traverse(n,a,r,i+1);else for(j=0;j<aryLookingForItems.length;j++)if(a==aryLookingForItems[j])switch(a){case"title":"organization"==strLastItemName&&(strLastItemName="organization.title",aryLookingForItems=new Array("item"),s="debugview"==this.blnShowIndent?this.outputPlain(n,r):this.applyStyle(n,r),this.menuInstance.setMenuItem(n,"","","unknown",intIndexCount,intParentIndexCount),intIndexCount++,intParentIndexCount++),"item"==strLastItemName&&(strLastItemName="item",aryLookingForItems=new Array("title","identifier","identifierref","isvisible","adlcp:datafromlms","adlcp:masteryscore","adlcp:timelimitaction","adlcp:maxtimeallowed","adlcp:prerequisite","item","parameters"),r+=">","title"==a?"undefined"!=typeof aryAttributeCollection.identifierref||"undefined"==aryAttributeCollection.identifierref?(str="<a href='javascript:gotoSco(\""+aryAttributeCollection.identifierref+'","'+aryAttributeCollection.identifier+"\")'>"+n+"</a>",s="debugview"==this.blnShowIndent?this.outputPlain(str,r,aryAttributeCollection.identifier):this.applyStyle(str,r,aryAttributeCollection.identifier),this.menuInstance.setMenuItem(n,aryAttributeCollection.identifier,aryAttributeCollection.identifierref,"unknown",intIndexCount,intParentIndexCount),intIndexCount++):(s="debugview"==this.blnShowIndent?this.outputPlain(n,r):this.applyStyle(n,r),this.menuInstance.setMenuItem(n,"","","unknown",intIndexCount,intParentIndexCount),intIndexCount++,intParentIndexCount++):s="debugview"==this.blnShowIndent?this.outputPlain(a+":"+n,r):this.applyStyle(a+":"+n,r),aryAttributeCollection=new Array);break;case"identifier":"item"==strLastItemName&&(aryLookingForItems=new Array("title","identifierref","isvisible","adlcp:datafromlms","adlcp:masteryscore","adlcp:timelimitaction","adlcp:maxtimeallowed","adlcp:prerequisite","item","parameters"),aryAttributeCollection[a]=n,strCurrentItemId=n,strLastItemName="item");break;case"identifierref":"item"==strLastItemName&&(aryLookingForItems=new Array("title","identifier","isvisible","adlcp:datafromlms","adlcp:masteryscore","adlcp:timelimitaction","adlcp:maxtimeallowed","adlcp:prerequisite","item","parameters"),aryAttributeCollection[a]=n,strLastItemName="item",this.totalNumOfSCOs++);break;case"isvisible":"item"==strLastItemName&&(aryLookingForItems=new Array("title","identifierref","identifier","adlcp:datafromlms","adlcp:masteryscore","adlcp:timelimitaction","adlcp:maxtimeallowed","adlcp:prerequisite","item","parameters"),aryAttributeCollection[a]=n,strLastItemName="item");break;case"adlcp:datafromlms":"item"==strLastItemName&&(aryLookingForItems=new Array("title","adlcp:masteryscore","identifier","identifierref","adlcp:timelimitaction","adlcp:maxtimeallowed","adlcp:prerequisite","item","parameters"),e[a]=n,this.data[strCurrentItemId]=e);break;case"adlcp:masteryscore":"item"==strLastItemName&&(aryLookingForItems=new Array("title","adlcp:datafromlms","identifier","identifierref","adlcp:timelimitaction","adlcp:maxtimeallowed","adlcp:prerequisite","item","parameters"),e[a]=n,this.data[strCurrentItemId]=e);break;case"adlcp:timelimitaction":"item"==strLastItemName&&(aryLookingForItems=new Array("title","adlcp:datafromlms","adlcp:masteryscore","identifier","identifierref","adlcp:maxtimeallowed","adlcp:prerequisite","item","parameters"),e[a]=n,this.data[strCurrentItemId]=e);break;case"adlcp:maxtimeallowed":"item"==strLastItemName&&(aryLookingForItems=new Array("title","adlcp:datafromlms","adlcp:masteryscore","identifier","identifierref","adlcp:timelimitaction","adlcp:prerequisite","item","parameters"),e[a]=n,this.data[strCurrentItemId]=e);break;case"adlcp:prerequisite":"item"==strLastItemName&&(aryLookingForItems=new Array("title","adlcp:datafromlms","adlcp:masteryscore","identifier","identifierref","adlcp:timelimitaction","adlcp:maxtimeallowed","item","parameters"),e[a]=n,this.data[strCurrentItemId]=e);break;case"parameters":"item"==strLastItemName&&(aryLookingForItems=new Array("title","adlcp:datafromlms","adlcp:masteryscore","identifier","identifierref","adlcp:timelimitaction","adlcp:maxtimeallowed","item","parameters"),e[a]=n,this.data[strCurrentItemId]=e)}}return s}return e},CreateTableOfContents.prototype.lookupHrefByRef=function(e,t){var r,i,n,s,a,o,c,l,u,d,m,p;try{document.getElementById(this.getCurrentActivityId()).childNodes[0].style.backgroundColor=""}catch(h){}if(""!=this.strCurrentActivityId&&(document.getElementById(this.strCurrentActivityId).childNodes[0].style.backgroundColor=""),"undefined"==e)return void alert("identifierref is undefined. Can not find content to launch.");if("undefined"==t)return void alert("identifier is undefined. Can not find content to launch.");for(d=getStudentId(),m=getStudentName(),p=0;p<document.frmMain.credit.length;p++)document.frmMain.credit[p].checked&&(r=document.frmMain.credit[p].value);for(p=0;p<document.frmMain.mode.length;p++)document.frmMain.mode[p].checked&&(i=document.frmMain.mode[p].value);try{s="undefined"==typeof this.data[t]["adlcp:datafromlms"]?"":this.data[t]["adlcp:datafromlms"]}catch(h){s=""}try{a="undefined"==typeof this.data[t]["adlcp:masteryscore"]?"":this.data[t]["adlcp:masteryscore"]}catch(h){a=""}try{o="undefined"==typeof this.data[t]["adlcp:maxtimeallowed"]?"":this.data[t]["adlcp:maxtimeallowed"]}catch(h){o=""}try{c="undefined"==typeof this.data[t]["adlcp:timelimitaction"]?"":this.data[t]["adlcp:timelimitaction"]}catch(h){c=""}try{l="undefined"==typeof this.data[t].parameters?"":this.data[t].parameters}catch(h){l=""}l=l.trim(),"?"==l.charAt(0)&&(l=l.substr(1)),""!=config.masteryScore&&(this.data[t]["adlcp:masteryscore"]=config.masteryScore);for(res in this.objXmlData.manifest.resources.resource){var f=this.objXmlData.manifest.resources.resource[res];if("string"==typeof f&&(f=this.objXmlData.manifest.resources.resource),e==f.identifier){switch(this.schemaversion){case"":return void alert("No schemaversion found in the manifest. I can't tell what SCORM version you want me to launch the course as.");case"1.1":case"1.0":return void alert("This applications does not support launching SCORM 1.0 or 1.1 content. Please make sure you are using the correct schemaversion in the imsmanifest.xml file");case"aicc":n=initAiccPlayer;break;case"1.2":n=initScorm12Player;break;case"CAM 1.3":case"2004 3rd Edition":case"2004 4th Edition":try{getScorm2004Api()}catch(h){return void(document.location.href="scorm2004player.htm?"+document.location.href.split("?")[1])}n=initScorm2004Player;break;default:alert("This applications does not recognize schemaversion "+this.schemaversion+". Please make sure you are using the correct schemaversion in the imsmanifest.xml file")}return u=getCourseDirectory()+"/"+f.href,l&&(u=u.indexOf("?")>-1?u+"&"+l:u+"?"+l),scoid=e,u=utils.jcaEncodePath(u),this.activityId=t,n({act_id:t,sco_id:scoid,path:u,student_name:m,student_id:d,data_from_lms:s,mastery_score:a,max_time_allowed:o,time_limit_action:c,cmi_core_credit:r,cmi_core_lesson_mode:i}),void(document.getElementById(t).childNodes[0].style.backgroundColor=config.activeItemHighlightColor)}}},CreateTableOfContents.prototype.findSCORMVersion=function(e){switch(e){case"aicc":return!1;case"1.1":case"1.0":case"1.2":case"CAM 1.3":case"2004 3rd Edition":case"2004 4th Edition":return e}return n=JSON.stringify(this.objXmlData),this.objXmlData.hasOwnProperty("schemaversion")&&alert("there is a schema version"),-1!=n.indexOf("adlcp:scormtype")?"1.2":-1!=n.indexOf("adlcp:scormType")&&-1!=n.indexOf("adlcp_v1p3")?"2004 3rd Edition":void 0},CreateTableOfContents.prototype.swapIcon=function(e,t){switch(t){case"completed":img=config.tocStatusImages.completed,strImage="url("+img+")";break;case"incomplete":img=config.tocStatusImages.incomplete,strImage="url("+img+")";break;case"unknown":img=config.tocStatusImages.unknown,strImage="url("+img+")";break;case"not attempted":img=config.tocStatusImages.not_attempted,strImage="url("+img+")";break;case"passed":img=config.tocStatusImages.passed,strImage="url("+img+")";break;case"failed":img=config.tocStatusImages.failed,strImage="url("+img+")"}!function(t){setTimeout(function(){document.getElementById(e)&&(document.getElementById(e).style.background=t,document.getElementById(e).style.backgroundRepeat="no-repeat")},1)}(strImage)},CreateTableOfContents.prototype.setCompletionStatus=function(e,t){"failed"!=this.aryCompletionStatus[e]&&"passed"!=this.aryCompletionStatus[e]&&(this.menuInstance.updateItemStatusByItemId(e,t),this.aryCompletionStatus[e]=t,this.swapIcon(e,t),this.processRollup())},intLastParentIndex=-1,strLastStatus="",strParentStatus="unknown",CreateTableOfContents.prototype.processRollup=function(){},CreateTableOfContents.prototype.getCompletionStatus=function(e){return this.aryCompletionStatus[e]},CreateTableOfContents.prototype.getTOCCache=function(){return a='"aryCompletionStatus":'+JSON.stringify(this.aryCompletionStatus),"{"+a+"}"},CreateTableOfContents.prototype.setTOCCache=function(e){if(numberCompleted=0,"object"==typeof e?objSuspendedData=e:objSuspendedData=JSON.parse(e),"undefined"!=typeof objSuspendedData.aryCompletionStatus&&"undefined"!=objSuspendedData.aryCompletionStatus){this.aryCompletionStatus=objSuspendedData.aryCompletionStatus;for(i in this.aryCompletionStatus)"toJSONString"!=i&&(this.swapIcon(i,this.aryCompletionStatus[i]),("passed"==this.aryCompletionStatus[i]||"completed"==this.aryCompletionStatus[i])&&numberCompleted++);this.totalNumOfSCOs==numberCompleted&&config.showCourseCertificate&&window.open("certificate.htm")}},!window.console||!console.log){var console={};console.log=console.error=console.info=console.debug=console.warn=console.trace=console.dir=console.dirxml=console.group=console.groupEnd=console.time=console.timeEnd=console.assert=console.profile=function(){}}DebugWriter.prototype.createDebugWindow=function(e){if("off"!=this.status){switch(e){case"popup":winObj=window.open(),this.documentObject=winObj.document;break;case"embed":this.documentObject=window.document;break;case"console":return void(this.documentObject=console.debug);default:winObj=window.open(),this.documentObject=winObj.document}eleDiv=this.documentObject.createElement("div"),objDiv=this.documentObject.body.appendChild(eleDiv),objDiv.id=this.strDebugDivName,objDiv.style.visibility="hidden",objDiv.style.position="absolute",objDiv.style.top="50px",objDiv.style.left="10px",objDiv.style.border="1px solid black",objDiv.style.backgroundColor="#CCCCCC",objDiv.style.color="#000000",objDiv.style.width="80%",objDiv.style.height="80%",objDiv.style.overflow="auto",objDiv.style.paddingLeft="5px",objDiv.style.zIndex=9,objDiv.innerHTML="",eleDiv1=this.documentObject.createElement("div"),objDiv1=this.documentObject.body.appendChild(eleDiv1),objDiv1.id=this.strDebugToolbarDivName,objDiv1.style.visibility="hidden",objDiv1.style.position="absolute",tmp1=objDiv.style.top,tmp2=tmp1.split("px")[0],objDiv1.style.top=tmp2-30,objDiv1.style.left=objDiv.style.left,objDiv1.style.width=objDiv.style.width,objDiv1.style.height=objDiv.style.height,"embed"==e?(b1="<button onClick='debugWriter.saveDebugWindow();'>Save</button>",b2="<button onClick='debugWriter.printDebugWindow();'>Print</button>",b3="<button onClick='debugWriter.clearDebugWindow();'>Clear</button>",b4="<button onClick='debugWriter.hideDebugWindow();'>Hide</button>",b5="<button onClick='debugWriter.clearDebugQueue();'>Clear Queue</button>",objDiv1.innerHTML=b1+b2+b3+b4+b5):(b1="<button onClick='opener.debugWriter.saveDebugWindow();'>Save</button>",b2="<button onClick='opener.debugWriter.printDebugWindow();'>Print</button>",b3="<button onClick='opener.debugWriter.clearDebugWindow();'>Clear</button>",b4="<button onClick='opener.debugWriter.hideDebugWindow();'>Hide</button>",b5="<button onClick='opener.debugWriter.clearDebugQueue();'>Clear Queue</button>",objDiv1.innerHTML=b1+b2+b3+b4+b5,this.showDebugWindow())}},DebugWriter.prototype.showDebugWindow=function(){"off"!=this.status&&"console"!=this.presentation&&this.documentObject.getElementById(this.strDebugDivName)&&(this.documentObject.getElementById(this.strDebugDivName).style.visibility="visible",this.documentObject.getElementById(this.strDebugToolbarDivName).style.visibility="visible",this.documentObject.getElementById(this.strDebugDivName).innerHTML=this.displayTextInDebugWindow())},DebugWriter.prototype.clearDebugWindow=function(){"off"!=this.status&&(this.documentObject.getElementById(this.strDebugDivName).innerHTML="")},DebugWriter.prototype.clearDebugQueue=function(){"off"!=this.status&&(this.aryDebugText=[],this.aryDebugType=[],this.documentObject.getElementById(this.strDebugDivName)&&"visible"==this.documentObject.getElementById(this.strDebugDivName).style.visibility&&this.showDebugWindow())},DebugWriter.prototype.displayTextInDebugWindow=function(){if("off"!=this.status){var e="";for(i=0;i<this.aryDebugText.length;i++){switch(this.aryDebugType[i].toLowerCase()){case"debug":e+="<FONT COLOR=00FF00>";break;case"warning":e+="<FONT COLOR=FFFF00>";break;case"error":e+="<FONT COLOR=FF0000>";break;default:e+="<FONT COLOR="+this.aryDebugType[i]+">"}e+=this.aryDebugText[i]+"<br>",e+="</FONT><BR>"}return e}},DebugWriter.prototype.hideDebugWindow=function(){"off"!=this.status&&this.documentObject.getElementById(this.strDebugDivName)&&(this.documentObject.getElementById(this.strDebugDivName).style.visibility="hidden",this.documentObject.getElementById(this.strDebugToolbarDivName).style.visibility="hidden")},DebugWriter.prototype.writeToDebugWindow=function(e,t){if("off"!=this.status&&""!=e)if("console"!=this.presentation)this.documentObject.getElementById(this.strDebugDivName).scrollTop=this.documentObject.getElementById(this.strDebugDivName).scrollHeight,(""==t||"undefined"==typeof t)&&(t="#000000"),this.aryDebugText[this.aryDebugText.length]=e,this.aryDebugType[this.aryDebugType.length]=t,"visible"==this.documentObject.getElementById(this.strDebugDivName).style.visibility&&this.showDebugWindow();else try{console.debug(e)}catch(r){this.presentation="popup"}},DebugWriter.prototype.printDebugWindow=function(){"off"!=this.status&&alert("print disabled")},DebugWriter.prototype.saveDebugWindow=function(e){if("off"!=this.status)try{var t=new ActiveXObject("Scripting.FileSystemObject"),r=t.CreateTextFile("C:\\debugger.htm",!0);r.WriteLine(this.displayTextInDebugWindow()),r.Close(),alert("File was saved to C:\\debugger.htm")}catch(i){alert(i.name+"\n"+i.description+"\nThe file was not saved. \nSave uses the activeX File System Object (FSO) so please check your activeX control permissions and try again.")}},Menu=function(){this.objMenuItems=new Object},Menu.prototype.setMenuItem=function(e,t,r,i,n,s){this.objMenuItems[n]={title:e,itemId:t,resourceId:r,status:i,parent:s}},Menu.prototype.getMenuItem=function(name,value){if("index"==name)return this.objMenuItems[value];for(obj in this.objMenuItems)if(v=eval("this.objMenuItems[obj]."+name),v==value)return this.objMenuItems[obj];return-1},Menu.prototype.getMenuItemByIndex=function(e){return this.objMenuItems[e]},Menu.prototype.getMenuItemIndex=function(name,value){if("index"==name)alert("Can not use the index to look up an index.");else for(obj in this.objMenuItems)if(v=eval("this.objMenuItems[obj]."+name),v==value)return obj;return-1},Menu.prototype.getMenuObject=function(){return this.objMenuItems},Menu.prototype.getFirstLeafActivity=function(){for(obj in this.objMenuItems)if(""!=this.objMenuItems[obj].resourceId)return this.objMenuItems[obj];return""},Menu.prototype.getLastItem=function(){return this.objMenuItems[this.objMenuItems.length]},Menu.prototype.getLastAttemptedItem=function(){return""},Menu.prototype.updateItemStatusByItemId=function(e,t){index=this.getMenuItemIndex("itemId",e),-1!=index&&(this.objMenuItems[index].status=t)},StatementLogger.prototype.addStatement=function(e){var t;for(this.statements.push(e),t=0;t<this.listeners.length;t++)try{this.listeners[t](e)}catch(r){console.log("listener disappeared")}},StatementLogger.prototype.serialize=function(){var e,t=[];for(e=0;e<this.statements.length;e++)t.push({statementType:this.statements[e].statementType,statement:this.statements[e].statement,debugLevel:this.statements[e].debugLevel,displayWhen:this.statements[e].getDisplayWhen(),timeTaken:this.statements[e].timeTaken,subStatements:this.statements[e].subStatements});return JSON.stringify(t)},StatementLogger.prototype.save=function(){reqwest({url:config.statementLogSetUrl,method:config.ajaxType,type:"json",async:!0,data:{uuid:this.uuid,courseId:this.courseId,studentId:this.studentId,timestamp:(new Date).getTime(),statements:this.serialize()}})},StatementLogEntry.prototype.addSubStatement=function(e){this.subStatements.push(e)},StatementLogEntry.prototype.stampTimeTaken=function(){this.timeTaken=((new Date).getTime()-this.when.getTime())/1e3},StatementLogEntry.prototype.getDisplayWhen=function(){return this.displayWhen||(this.displayWhen=this.when.toTimeString().split(" ")[0]+"."+this.when.getMilliseconds()),this.displayWhen};var closeEval=!1,ssla=function(e){function t(){var e={},t=document.cookie;if(""===t)return e;for(var r=t.split("; "),i=0;i<r.length;i++){var n=r[i],s=n.indexOf("="),a=n.substring(0,s),o=n.substring(s+1);o=decodeURIComponent(o),e[a]=o}return e}return e||(e={}),e.storageLayers||(e.storageLayers={}),e.storage={getStorageLayer:function(){return e.storageLayers.hasOwnProperty(config.storageMediaType)?e.storageLayers[config.storageMediaType]:(alert("Storage layer type not recognized, check your configuration: "+config.storageMediaType),null)},load:function(t,r,i){return e.storage.getStorageLayer().load(t,r,i)},save:function(t,r,i,n){return e.storage.getStorageLayer().save(t,r,i,n)},saveDiff:function(t,r,i,n){return e.storage.getStorageLayer().saveDiff(t,r,i,n)}},e.storageLayers.cookie={doCallback:function(e,t,r){"2004"==r?returnSCORMData(t):"toc_data"==e?returnFromAjaxTocData(t):returnFromAjaxScorm12Course(t)},load:function(r,i,n){var s,a=t();if(a[i])try{s=JSON.parse(a[i]),e.storageLayers.cookie.doCallback(i,s,n)}catch(o){e.storageLayers.cookie.doCallback(i,null,n)}else e.storageLayers.cookie.doCallback(i,null,n)},save:function(e,t,r){var i=null,n="/",s=null,a=null;document.cookie=t+"="+encodeURIComponent(r)+(i?"; expires="+i.toGMTString():"")+(n?"; path="+n:"")+(s?"; domain="+s:"")+(a?"; secure":""),e&&e(!0,t,r)},saveDiff:function(e,t,r){alert("ssla.storageLayers.cookie.saveDiff not supported.")}},e.storageLayers.server={load:function(e,t,r){reqwest({url:config.getDataURL,method:config.ajaxType,type:"json",async:!0,data:{name:t,activityId:getCourseId(),studentId:getStudentId(),timestamp:(new Date).getTime()},success:function(e){debugWriter.writeToDebugWindow("in storage.load server returned value = "+e),("undefined"==typeof e||!e||"responseText"in e||"responseXML"in e)&&(e={}),"2004"==r?returnSCORMData(e):"toc_data"==t?returnFromAjaxTocData(e):returnFromAjaxScorm12Course(e)},error:function(e,t,r){console.log(e,t,r),debugWriter.writeToDebugWindow("in storage.load error retrieving data from server."),alert("error in get ajax"+e+","+t+","+r),returnFromAjax(null)}})},save:function(t,r,i,n){var s=!1;globalActiveSaveCounter+=1,n||(n={}),config.forceSynchronousAjaxOnEnd&&n.isEndRequest&&(s=!1);$.ajax({url:config.setDataURL,method:config.ajaxType,async:s,timeout:1e4,data:{name:r,theData:i,activityId:getCourseId(),studentId:getStudentId(),timestamp:(new Date).getTime()},success:function(e){e.indexOf("StatusCode: 403")>-1&&(closeEval=!0)},error:function(e){},complete:function(){e.storageLayers.server.onComplete()}});closeEval&&(closeEval=!1,navigate("exit"))},saveDiff:function(e,t,r,i){},onComplete:function(){globalActiveSaveCounter-=1}},e}(ssla);Utils.prototype.StringtoXML=function(e){var t,r;return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):(r=new DOMParser,t=r.parseFromString(e,"text/xml")),t},Utils.prototype.openPage=function(e,t,r,i){var n;switch(t){case"self":document.location.replace(e);break;case"popup":n=i?window.open(e,r,i):window.open(e,r),null==n||"undefined"==typeof n||n.focus()}return n},Utils.prototype.parseQueryString=function(e){var t,r=window.location.search.substring(1),i={};t=r.split("&");for(var n=0;n<t.length;n++){var s=t[n].split("=");i[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return i},Utils.prototype.jcaDecodePath=function(e){return e=e.replace(/\[0\]/g,"&nbsp;"),e=e.replace(/\[1\]/g,"&"),e=e.replace(/\[2\]/g,"?"),e=e.replace(/\[3\]/g,"=")},Utils.prototype.jcaEncodePath=function(e){return e=e.replace(/&nbsp;/g,"[0]"),e=e.replace(/\&/g,"[1]"),e=e.replace(/\?/g,"[2]"),e=e.replace(/\=/g,"[3]")},Utils.prototype.decode=function(e){return unescape(e.replace(/\+/g," "))},String.prototype.trim||!function(){var e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(e,"")}}(),window.configCustom||(window.configCustom={});var config=new Config(window.configCustom),debugWriter=new DebugWriter(config.debuggerStatus,config.debuggerLaunchType),utils=new Utils,objVars=utils.parseQueryString(document.location.href),globalActiveSaveCounter=0,currentCourseDetails={courseId:getCourseId(),studentId:getStudentId(),studentName:getStudentName()};utils.currentCourseDetails=currentCourseDetails;var statementLogger=new StatementLogger(currentCourseDetails.courseId,currentCourseDetails.studentId),activeCourse=getCourseDirectory()+"/"+config.scormManifestFileName;utils.currentCourseDetails=currentCourseDetails;var createTableOfContentsInstance,currMenuState="hide",ie=function(){for(var e,t=3,r=document.createElement("div"),i=r.getElementsByTagName("i");r.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",i[0];);return t>4?t:e}(),qsObject,API,API_1484_11,CMI_DBInstance,oScormData,strCookieName,StatementLogEntry,popupSettings="";CMI_DBInstance={},oScormData={},strCookieName="";var arrInteractionTypes={},ScormBase=function(){function e(e){var t=1*e;return isNaN(t)||2!=e.length&&4!=e.length?!1:!0}function t(e){var t=1*e;return isNaN(t)||2!=e.length?!1:!0}function r(e){return-1!=e.indexOf(".")?(s=e.split("."),s.length>2?!1:isNaN(s[0])||2!=s[0].length?!1:!0):(s=e,isNaN(s)||2!=s.length?!1:!0)}function i(e){return-1!=e.indexOf("cmi.objectives")||-1!=e.indexOf("cmi.interactions")?!0:!1}function o(e){return-1!=e.indexOf("_children")||-1!=e.indexOf("_count")?!0:!1}var l=function(){this._init()};return l.prototype._init=function(){this.lastSCORMData="",this.isDirty=!1,this._isInitialized=!1,this._errorCode,this.statementLogger=statementLogger,this.suspendFlagSet=!1,this.finishing=!1},l.prototype.initialize=function(e){var t,r,i=new StatementLogEntry("runtime");return ssla.events.lmsPreInitialize.dispatch(),t=this._initialize(e),ssla.events.lmsPostInitialize.dispatch(t),r=this._getLastError(),i.statement=vsprintf("LMSInitialize(%S) returned %S.",[e,t]),i.stampTimeTaken(),"0"!==r&&(i.debugLevel="ERROR",i.addSubStatement(vsprintf("LMSGetLastError returned %S.",[r]))),this.statementLogger.addStatement(i),t},l.prototype._initialize=function(e){var t=oScormData.strStudentId+"_"+oScormData.strSCOId,r="";if(this._isInitialized)this._errorCode="101",config.setInitializeToLMS&&ssla.storage.getStorageLayer().save(null,"initialize",'{"'+t+'":"false"}'),r="false";else if(""!=e||null==e)this._errorCode="201",config.setInitializeToLMS&&ssla.storage.getStorageLayer().save(null,"initialize",'{"'+t+'":"false"}'),r="false";else{var i=oScormData.data;CMI_DBInstance.callRestore(i),this._isInitialized=!0,this._errorCode="0",config.setInitializeToLMS&&ssla.storage.getStorageLayer().save(null,"initialize",'{"'+t+'":"true"}'),
CMI_DBInstance.callCommit(),this.saveData(),r="true"}return r},l.prototype.finish=function(e){var t,r,i=new StatementLogEntry("runtime");return this.finishing=!0,ssla.events.lmsPreFinish.dispatch(),t=this._finish(e),ssla.events.lmsPreFinish.dispatch(t),r=this._getLastError(),i.statement=vsprintf("LMSFinish(%S) returned %S.",[e,t]),i.stampTimeTaken(),"0"!==r&&(i.debugLevel="ERROR",i.addSubStatement(vsprintf("LMSGetLastError returned %S.",[r]))),this.statementLogger.addStatement(i),t},l.prototype._finish=function(e){console.log("_finish not implemented")},l.prototype.commit=function(e){var t,r,i=new StatementLogEntry("runtime");return ssla.events.lmsPreCommit.dispatch(),t=this._commit(e),ssla.events.lmsPostCommit.dispatch(t),r=this._getLastError(),i.statement=vsprintf("LMSCommit(%S) returned %S.",[e,t]),i.stampTimeTaken(),"0"!==r&&(i.debugLevel="ERROR",i.addSubStatement(vsprintf("LMSGetLastError returned %S.",[r]))),this.statementLogger.addStatement(i),t},l.prototype._commit=function(e){if(!this._isInitialized)return this._errorCode="301","false";if(""!=e||null==e)return this._errorCode="201","false";if(this.isDirty||this.finishing){var t=CMI_DBInstance.callCommit();return debugWriter.writeToDebugWindow("Committing data: "+t),config.saveDataOnCommit&&this.saveData(),null==t?"false":(this.isDirty=!1,"true")}return"true"},l.prototype.getValue=function(e){var t,r,i=new StatementLogEntry("runtime");return ssla.events.lmsPreGetValue.dispatch(e),t=this._getValue(e),ssla.events.lmsPostGetValue.dispatch(e,t),r=this._getLastError(),i.statement=vsprintf("LMSGetValue(%S) returned %S.",[e,t]),i.stampTimeTaken(),"0"!==r&&(i.debugLevel="ERROR",i.addSubStatement(vsprintf("LMSGetLastError returned %S.",[r]))),this.statementLogger.addStatement(i),t},l.prototype._getValue=function(e){debugWriter.writeToDebugWindow("LMSGetValue :: Getting value "+e+" from LMS");var t="";return this._isInitialized?(this._errorCode=this.errorHandling(e,"",this._isInitialized,"get"),this.checkForValidDataModelElement(e)&&this.isReadable(e)&&(t=-1!=e.indexOf("_children")?this.getDataModelElementChildElements(e):this._internalGetValue(e)),debugWriter.writeToDebugWindow("LMSGetValue :: Value of "+e+" is "+t),t.toString()):(t="",this._errorCode="301","")},l.prototype.setValue=function(e,t){var r,i,n=new StatementLogEntry("runtime");return ssla.events.lmsPreSetValue.dispatch(e,t),r=this._setValue(e,t),ssla.events.lmsPostSetValue.dispatch(e,t),i=this._getLastError(),n.statement=vsprintf("LMSSetValue(%S, %S) returned %S.",[e,t,r]),n.stampTimeTaken(),"0"!==i&&(n.debugLevel="ERROR",n.addSubStatement(vsprintf("LMSGetLastError returned %S.",[i]))),this.statementLogger.addStatement(n),r},l.prototype.getLastError=function(){var e,t=new StatementLogEntry("runtime");return e=this._getLastError(),t.statement=vsprintf("LMSGetLastError() returned %S.",[e]),t.stampTimeTaken(),this.statementLogger.addStatement(t),e},l.prototype._getLastError=function(){return null==this._errorCode||void 0==this._errorCode?"0":this._errorCode},l.prototype.getErrorString=function(e){var t,r=new StatementLogEntry("runtime");return t=this._getErrorString(e),r.statement=vsprintf("LMSGetErrorString(%S) returned %S.",[t]),r.stampTimeTaken(),this.statementLogger.addStatement(r),t},l.prototype._getErrorString=function(e){var t="";return this.errorCodeMap[e]&&(t=this.errorCodeMap[e]),t},l.prototype.getDiagnostic=function(e){var t,r=new StatementLogEntry("runtime");return t=this._getDiagnostic(e),r.statement=vsprintf("LMSGetDiagnostic(%S) returned %S.",[t]),r.stampTimeTaken(),this.statementLogger.addStatement(r),t},l.prototype._getDiagnostic=function(e){return e},l.prototype.getErrorCodeByType=function(e){return this.errorCodeLookupByType[e]},l.prototype.checkObjectives=function(){console.log("checkObjectives not implemented.")},l.prototype.checkInteractions=function(){console.log("checkInteractions not implemented.")},l.prototype.customSetValueDmeChecks=function(e,t){return t},l.prototype._setValue=function(e,t){return debugWriter.writeToDebugWindow("LMSSetValue :: Setting value "+e+" to "+t+" in the LMS"),this._isInitialized?(this._errorCode=this.errorHandling(e,t,this._isInitialized,"set"),"402"==this._errorCode?"false":(a=this.checkForValidDataModelElement(e),b=this.isWritable(e),c=this.checkValidValues(e,t),a&&b&&c?(t=this.customSetValueDmeChecks(e,t),ret=this._internalSetValue(e,t),("true"==ret||1==ret)&&(this._errorCode="0",this.isDirty=!0),ret.toString()):"false")):(this._errorCode="301","false")},l.prototype.hasChildren=function(e){if(this.checkForValidDataModelElement(e)){if(-1!=e.indexOf("cmi.objectives")&&-1!=e.indexOf("score._children"))return!0;switch(e){case"cmi.core._children":return!0;case"cmi.core.score._children":return!0;case"cmi.objectives._children":return!0;case"cmi.interactions._children":return!0;case"cmi.student_data._children":return!0;case"cmi.student_preference._children":return!0;default:return!1}}},l.prototype.errorHandling=function(e,t,r,n){if(!r)return"301";if("set"==n&&(-1!=e.indexOf("._count")||-1!=e.indexOf("._children")))return"402";if(!this.checkForValidDataModelElement(e))return-1!=e.indexOf("_children")?"202":-1!=e.indexOf("_count")?"203":"201";if("undefined"==typeof t)return t="","201";if("get"==n){if(-1!=e.indexOf("_children")&&!this.hasChildren(e))return"202";if(-1!=e.indexOf("_count")&&!i(e))return"203";if(!this.isReadable(e))return this.getErrorCodeByType("NOT_READABLE")}if(""!=t){if(o(e))return"402";if(!this.isWritable(e))return this.getErrorCodeByType("NOT_WRITABLE");if(!this.checkValidValues(e,t))return this.getErrorCodeByType("INVALID_VALUE")}return"0"},l.prototype.getDataModelElementChildElements=function(e){var t="student_id,student_name,lesson_location,credit,lesson_status,entry,score,total_time,lesson_mode,exit,session_time",r="raw,min,max",i="id,score,status",n="mastery_score,max_time_allowed,time_limit_action",s="audio,language,speed,text",a="id,objectives,time,type,correct_responses,weighting,student_response,result,latency";if(this.checkForValidDataModelElement(e)){if(-1!=e.indexOf("score._children"))return r;switch(e){case"cmi.core._children":return t;case"cmi.objectives._children":return i;case"cmi.student_data._children":return n;case"cmi.student_preference._children":return s;case"cmi.interactions._children":return a;default:return""}}},l.prototype.checkForValidDataModelElement=function(e){if(-1!=e.indexOf("cmi.objectives")&&1==this.checkObjectives(e))return!0;if(-1!=e.indexOf("cmi.interactions"))return n=this.checkInteractions(e),n;for(var t=0;t<this.validDmes.length;t++)if(e==this.validDmes[t])return!0;return!1},l.prototype.checkValidValues=function(e,t){console.log("checkValidValues not implemented.")},l.prototype.isWritable=function(e){if(this.checkForValidDataModelElement(e)){if(-1!=e.indexOf("cmi.interactions")&&(-1==e.indexOf("_children")||-1==e.indexOf("_count"))&&1==this.checkInteractions(e))return!0;if(-1==e.indexOf("cmi.objectives")){for(var t=0;t<this.validWritables.length;t++)if(e==this.validWritables[t])return!0;return!1}if((-1==e.indexOf("_children")||-1==e.indexOf("_count"))&&1==this.checkObjectives(e))return!0}},l.prototype.isReadable=function(e){if(this.checkForValidDataModelElement(e)){if(-1!=e.indexOf("cmi.interactions")){if(-1!=e.indexOf("._children"))return!0;if(-1!=e.indexOf("._count"))return!0}if(-1==e.indexOf("cmi.objectives")){for(var t=0;t<this.validReadables.length;t++)if(e==this.validReadables[t])return!0;return!1}if(1==this.checkObjectives(e))return!0}},l.prototype._internalGetValue=function(e){console.log("_internalGetValue not implemented.")},l.prototype._internalSetValue=function(e,t){console.log("_internalSetValue not implemented.")},l.prototype.checkStatus=function(e,t){console.log("checkStatus not implemented.")},l.prototype.checkRawMinMax=function(e){var t=1*e;return isNaN(t)||0>t||t>100?!1:!0},l.prototype.checkCMITimeSpan=function(i){var n=i.split(":"),s=n[0],a=n[1],o=n[2];return 0==e(s)||0==t(a)||0==r(o)?!1:!0},l.prototype.checkCMIString255=function(e){var t="^.{0,255}$";return matchRegEx(t,e)},l.prototype.checkCMIString4096=function(e){var t="^.{0,4096}$";return matchRegEx(t,e)},l.prototype.saveData=function(){var e,t,r;e=oScormData.strStudentId+"_"+oScormData.strSCOId,t=CMI_DBInstance.toDB(),(this.lastSCORMData!=t||this.finishing)&&(n=ssla.storage.getStorageLayer().save(null,e,t,{isEndRequest:this.finishing}),this.lastSCORMData=t,this.isDirty=!1),debugWriter.writeToDebugWindow("SaveData() setting :: Value of "+e+" is "+t);try{r=createTableOfContentsInstance.getTOCCache()}catch(i){debugWriter.writeToDebugWindow("SaveData() error :: failed to locate createTableOfContentsInstance.getTOCCache()")}ssla.storage.getStorageLayer().save(null,config.tocDataObjectName,r,{isEndRequest:this.finishing}),config.saveStatementLog&&parent.statementLogger.save(),debugWriter.writeToDebugWindow("Leaving")},l};CMI_DB_2004.prototype.callSetValue=function(e,r){var i="NO_DATA_REPORTED",n=0;switch(e){case"cmi.session_time":total_time=this._getLocalData("cmi.total_time"),"undefined"==typeof total_time&&(total_time="0000:00:00"),t=this.addTimes(total_time,r),i=this._setLocalData("cmi.total_time",t+"")}return-1!=e.indexOf("cmi.objectives.")?-1!=e.indexOf(".id")&&(i=this.local_data[e],"undefined"==typeof i&&(n=parseInt(this.local_data["cmi.objectives._count"]),isNaN(n)&&(n=0),n++,i=this._setLocalData("cmi.objectives._count",n+""),this.local_data["cmi.objectives._count"]=n)):-1!=e.indexOf("cmi.interactions.")&&(-1!=e.indexOf("type")&&(arrInteractionTypes[e]=r),-1!=e.indexOf(".objectives")?-1!=e.indexOf(".id")&&(i=this.local_data[e],"undefined"==typeof i&&(index=e.split(".")[2],n=parseInt(this.local_data["cmi.interactions."+index+".objectives._count"]),isNaN(n)&&(n=0),n++,i=this._setLocalData("cmi.interactions."+index+".objectives._count",n+""),this.local_data["cmi.interactions."+index+".objectives._count"]=n)):-1!=e.indexOf(".id")?(i=this.local_data[e],"undefined"==typeof i&&(n=parseInt(this.local_data["cmi.interactions._count"]),isNaN(n)&&(n=0),n++,i=this._setLocalData("cmi.interactions._count",n+""),this.local_data["cmi.interactions._count"]=n)):-1!=e.indexOf(".correct_responses")&&-1!=e.indexOf(".pattern")&&(i=this.local_data[e],"undefined"==typeof i&&(index=e.split(".")[2],n=parseInt(this.local_data["cmi.interactions."+index+".correct_responses._count"]),isNaN(n)&&(n=0),n++,i=this._setLocalData("cmi.interactions."+index+".correct_responses._count",n+""),this.local_data["cmi.interactions."+index+".correct_responses._count"]=n))),i=this._setLocalData(e,r)},CMI_DB_2004.prototype.callGetValue=function(e){return v=this._getLocalData(e),e.indexOf("._count")&&"undefined"==typeof v&&(v="0"),v},CMI_DB_2004.prototype.callCommit=function(){return this.toDB()},CMI_DB_2004.prototype.toDB=function(){return debugWriter.writeToDebugWindow("CMI_DB_2004.prototype.toDB() "+JSON.stringify(this.local_data),"blue"),JSON.stringify(this.local_data)},CMI_DB_2004.prototype.callRestore=function(e){"undefined"==typeof e||!e||isEmptyObject(e)?(debugWriter.writeToDebugWindow("CMI_DB_2004.prototype.callRestore nothing to restore; set up the string with all the default values","blue"),this.local_data["cmi.completion_status"]="unknown",this.local_data["cmi.success_status"]="unknown",this.local_data["cmi.suspend_data"]="",this.local_data["cmi.location"]="",this.local_data["cmi.total_time"]="PTH0M0S0",this.local_data["cmi.entry"]="ab-initio",this.local_data["cmi.score.raw"]="",this.local_data["cmi.score.min"]="",this.local_data["cmi.score.max"]="",this.local_data["cmi.score.scaled"]="",this.local_data["cmi.comments_from_learner"]="",this.local_data["cmi.comments_from_lms"]="No comment",this.local_data["cmi.objectives._count"]="0",this.local_data["cmi.interactions._count"]="0",this.local_data["cmi.learner_preference.audio_level"]="1",this.local_data["cmi.learner_preference.language"]="",this.local_data["cmi.learner_preference.delivery_speed"]="1",this.local_data["cmi.learner_preference.audio_captioning"]="0"):(debugWriter.writeToDebugWindow("CMI_DB_2004.prototype.callRestore "+this.local_data,"blue"),this.local_data=e),this._setLocalData("cmi.learner_name",this.student_name?this.student_name:""),this._setLocalData("cmi.learner_id",this.student_number&&""!=this.student_number?this.student_number:"001DEFAULTSTUDENT"),this._setLocalData("cmi.launch_data",this.data_from_lms?this.data_from_lms:""),this._setLocalData("cmi.learner_preference.mastery_score",this.mastery_score?this.mastery_score:""),this._setLocalData("cmi.learner_preference.max_time_allowed",this.max_time_allowed?this.max_time_allowed:""),this._setLocalData("cmi.learner_preference.time_limit_action",this.time_limit_action?this.time_limit_action:""),this._setLocalData("cmi.credit",this.cmi_core_credit?this.cmi_core_credit:""),this._setLocalData("cmi.mode",this.cmi_core_lesson_mode?this.cmi_core_lesson_mode:"")};var ScormBase2004=function(e){function t(e){switch(e){case"completed":case"incomplete":case"unknown":return!0;case"not attempted":return 1==n?!1:!0}return!1}function r(e){return!("passed"!=e&&"failed"!=e&&"unknown"!=e)}var s="^\\w{1,255}$",a=function(){this._init()};for(i in e.prototype)a.prototype[i]=e.prototype[i];a.prototype.validDmes=["cmi.comments_from_lms","cmi.comments_from_learner","cmi.credit","cmi.entry","cmi.exit","cmi.location","cmi.mode","cmi.success_status","cmi.completion_status","cmi.score._children","cmi.score.max","cmi.score.min","cmi.score.raw","cmi.score.scaled","cmi.session_time","cmi.learner_id","cmi.learner_name","cmi.total_time","cmi.launch_data","cmi.learner_preference._children","cmi.learner_preference.mastery_score","cmi.learner_preference.max_time_allowed","cmi.learner_preference.time_limit_action","cmi.learner_preference._children","cmi.learner_preference.audio_level","cmi.learner_preference.language","cmi.learner_preference.delivery_speed","cmi.learner_preference.audio_captioning","cmi.suspend_data","adl.nav.request","cmi._version","cmi.progress_measure"],a.prototype.validWritables=["cmi.comments","cmi.exit","cmi.location","cmi.completion_status","cmi.success_status","cmi.score.max","cmi.score.min","cmi.score.raw","cmi.score.scaled","cmi.session_checkCMIString255","cmi.session_time","cmi.learner_preference.audio_level","cmi.learner_preference.language","cmi.learner_preference.delivery_speed","cmi.learner_preference.audio_captioning","cmi.suspend_data","adl.nav.request","cmi.progress_measure"],a.prototype.validReadables=["cmi.comments_from_lms","cmi.comments_from_learner","cmi._version","cmi.credit","cmi.entry","cmi.location","cmi.mode","cmi.completion_status","cmi.success_status","cmi.score._children","cmi.score.max","cmi.score.min","cmi.score.raw","cmi.score.scaled","cmi.learner_id","cmi.learner_name","cmi.total_time","cmi.launch_data","cmi.learner_preference._children","cmi.learner_preference.mastery_score","cmi.learner_preference.max_time_allowed","cmi.learner_preference.time_limit_action","cmi.learner_preference._children","cmi.learner_preference.audio_level","cmi.learner_preference.language","cmi.learner_preference.delivery_speed","cmi.learner_preference.audio_captioning","cmi.suspend_data","cmi.progress_measure"],a.prototype.errorCodeMap={0:"No error",101:"General Exception",102:"General Initialization Failure",103:"Already Initialized",104:"Content Instance Terminated",111:"General Termination Failure",112:"Termination Before Initialization",113:"Termination After Termination",122:"Retrieve Data Before Initialization",123:"Retrieve Data After Termination",132:"Store Data Before Initialization",133:"Store Data After Termination",142:"Commit Before Initialization",143:"Commit After Termination",201:"General Argument Error",301:"General Get Failure",351:"General Set Failure",391:"General Commit Failure",401:"Undefined Data Model Element",402:"Unimplemented Data Model Element",403:"Data Model Element Value Not Initialized",404:"Data Model Element Is Read Only",405:"Data Model Element Is Write Only",406:"Data Model Element Type Mismatch",407:"Data Model Element Value Out Of Range",408:"Data Model Dependency Not Established"},a.prototype.errorCodeLookupByType={NOT_READABLE:"404",NOT_WRITABLE:"405",INVALID_VALUE:"406"},a.prototype.terminate=function(e){var t,r,i=new StatementLogEntry("runtime");return ssla.events.lmsPreTerminate.dispatch(),t=this._terminate(e),ssla.events.lmsPostTerminate.dispatch(t),r=this._getLastError(),i.statement=vsprintf("Terminate(%S) returned %S.",[e,t]),i.stampTimeTaken(),"0"!==r&&(i.debugLevel="ERROR",i.addSubStatement(vsprintf("LMSGetLastError returned %S.",[r]))),this.statementLogger.addStatement(i),t},a.prototype._terminate=function(e){if(""!=e||null==e)return this._errorCode="201","false";if(this._isInitialized){switch(config.completeContentOnExit&&CMI_DBInstance.callSetValue("cmi.core.lesson_status","completed"),cmi_core_exit_value=CMI_DBInstance.callGetValue("cmi.exit"),debugWriter.writeToDebugWindow("cmi_core_exit_value = "+cmi_core_exit_value,"green"),cmi_core_exit_value){case"time-out":CMI_DBInstance.callSetValue("cmi.entry","");case"":CMI_DBInstance.callSetValue("cmi.entry","");break;case"logout":CMI_DBInstance.callSetValue("cmi.entry","");break;case"suspend":CMI_DBInstance.callSetValue("cmi.entry","resume")}return this._commit(""),this._isInitialized=!1,this._errorCode="0",config.setFinishToLMS&&ssla.storage.getStorageLayer().save(null,"finish","true"),2==config.scoLaunchType&&top.window.close(),"true"}return this._errorCode="301","false"},a.prototype.checkObjectives=function(e){return!!(endsWith(e,"._children")||endsWith(e,"._count")||endsWith(e,".id")||endsWith(e,".score._children")||endsWith(e,".score.max")||endsWith(e,".score.min")||endsWith(e,".score.raw")||endsWith(e,".score.scaled")||endsWith(e,".completion_status")||endsWith(e,".success_status")||endsWith(e,".description")||endsWith(e,".progress_measure"))},a.prototype.checkInteractions=function(e){if(endsWith(e,"._children")||endsWith(e,"._count")||endsWith(e,".id")||endsWith(e,".type")||endsWith(e,".timestamp")||endsWith(e,".correct_responses._count")||endsWith(e,".weighting")||endsWith(e,".learner_response")||endsWith(e,".result")||endsWith(e,".latency")||endsWith(e,".description"))return!0;if(-1!=e.indexOf("correct_responses")){if(-1!=e.indexOf(".pattern"))return!0}else-1!=e.indexOf("objectives")&&(e="objectives"+e.split(".objectives")[1],this.checkObjectives(e));return!1},a.prototype.checkValidValues=function(e,i){if(null==i)return!1;if("undefined"==typeof i)return!1;if(""!=i||null!=i){if(-1!=e.indexOf("cmi.objectives")&&(-1==e.indexOf("_children")||-1==e.indexOf("_count"))){if(-1!=e.indexOf("id"))return""==i?(this._errorCode="405",!1):(n=getValue("cmi.objectives._count"),aryEle=e.split("."),parseInt(aryEle[2])>n+1?(this._errorCode="201",!1):(s="^\\S{0,254}[a-zA-Z0-9]$",matchRegEx(s,i)));if(-1!=e.indexOf("score.max"))return this.checkRawMinMax(i);if(-1!=e.indexOf("score.min"))return this.checkRawMinMax(i);if(-1!=e.indexOf("score.raw"))return this.checkRawMinMax(i);if(-1!=e.indexOf("score.scaled"))return this.checkRawMinMax(i);if(-1!=e.indexOf("completion_status"))return t(i);if(-1!=e.indexOf("success_status"))return r(i);if(-1!=e.indexOf("description"))return!0;if(-1!=e.indexOf("progress_measure"))return!0}if(-1!=e.indexOf("cmi.interactions"))return n=this.checkInteractions(e),n;switch(e){case"cmi.completion_status":return t(i,1);case"cmi.success_status":return r(i,1);case"cmi.comments":return this.checkCMIString4096(i);case"cmi.exit":switch(i){case"time-out":return!0;case"suspend":return!0;case"logout":return!0;case"":return!0;default:return!1}break;case"cmi.location":return this.checkCMIString255(i);case"cmi.score.max":return this.checkRawMinMax(i);case"cmi.score.min":return this.checkRawMinMax(i);case"cmi.score.raw":return this.checkRawMinMax(i);case"cmi.score.scaled":return this.checkRawMinMax(i);case"cmi.progress_measure":return this.checkRawMinMax(i);case"cmi.session_time":var a=new RegExp(/^P(([0-9]+Y)?([0-9]+M)?([0-9]+D)?)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9]{1,2})?S)?)?$/);return a.test(i)?i:!1;case"cmi.learner_preference.audio_level":if(""==i)return this._errorCode="405",!1;if("string"!=typeof i||-1!=i.indexOf(".")||isNaN(i))return!1;var o=parseInt(i),c=1*o;return isNaN(c)?!1:-1>c||c>100?!1:!0;case"cmi.learner_preference.language":return this.checkCMIString255(i);case"cmi.learner_preference.delivery_speed":if(""==i)return this._errorCode="405",!1;if("string"!=typeof i||-1!=i.indexOf(".")||isNaN(i))return!1;var o=parseInt(i),c=1*o;return isNaN(c)?!1:-100>c||c>100?!1:!0;case"cmi.learner_preference.audio_captioning":return""==i?(this._errorCode="405",!1):"string"!=typeof i?!1:"-1"==i||"0"==i||"1"==i?!0:!1;case"cmi.suspend_data":return this.checkCMIString4096(i);case"adl.nav.request":return this.checkADLNavRequest(i)}}};var o=!0;return a.prototype._internalGetValue=function(e){var t=CMI_DBInstance.callGetValue(e);if(!t)switch(e){case"cmi.launch_data":t=data_from_lms;break;case"cmi.credit":t="credit";break;case"cmi.mode":t="normal";break;case"cmi.success_status":t="unknown";case"cmi.completion_status":t="not attempted";break;case"cmi.learner_name":break;case"cmi.learner_id":t=CMI_DBInstance.local_data["cmi.core.student_id"];break;case"cmi.suspend_data":t="";break;case"cmi.location":t="";break;case"cmi.total_time":t="PY0M0D0TH0M0S0";break;case"cmi.entry":t=o?"ab-initio":"resume";break;case"cmi.score.raw":t="";break;case"cmi.progress_measure":t="";break;case"cmi.score.min":t="";break;case"cmi.score.max":t="";break;case"cmi.score.scaled":t="";break;case"cmi.comments_from_learner":t="";break;case"cmi.comments_from_lms":t="No comment";break;case"cmi.objectives._count":t="0";break;case"cmi._version":t="1.0";break;case"cmi.learner_preference.mastery_score":t=CMI_DBInstance.local_data["cmi.student_data.mastery_score"];break;case"cmi.learner_preference.max_time_allowed":t=CMI_DBInstance.local_data["cmi.student_data.max_time_allowed"];break;case"cmi.learner_preference.time_limit_action":t=CMI_DBInstance.local_data["cmi.student_data.time_limit_action"];break;case"cmi.learner_preference.audio_level":o&&(t="");break;case"cmi.learner_preference.language":o&&(t="");break;case"cmi.learner_preference.delivery_speed":o&&(t="");break;case"cmi.learner_preference.audio_captioning":o&&(t="")}return t},a.prototype._internalSetValue=function(e,t){var r=CMI_DBInstance.callSetValue(e,t);if("undefined"==typeof r)r="false";else try{config.saveDataOnSetValue&&this.saveData()}catch(i){}return("cmi.completion_status"==e||"cmi.success_status"==e)&&createTableOfContentsInstance&&createTableOfContentsInstance.setCompletionStatus(oScormData.strActivityId,t),r},a.prototype.checkADLNavRequest=function(e){return!0},a};
//# sourceMappingURL=scorm2004-api.min.js.map